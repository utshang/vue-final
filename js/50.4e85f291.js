"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[50],{9208:function(t,e){e["Z"]={inject:["emitter"],data(){return{favorite:JSON.parse(localStorage.getItem("favorite"))||[]}},methods:{toggleFav(t){const e=this.favorite.findIndex((e=>e===t));-1===e?(this.favorite.push(t),this.emitter.emit("push-message",{style:"success",title:"已經加入最愛囉！"})):(this.favorite.splice(e,1),this.emitter.emit("push-message",{style:"danger",title:"已經移除最愛囉！"})),this.emitter.emit("get-fav",this.favorite)}},watch:{favorite:{deep:!0,handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))}}}}},8518:function(t,e,s){s.d(e,{Z:function(){return g}});var a=s(6252),i=s(3577);const r={class:"card border-width h-100"},o={class:"card-body d-flex justify-content-between"},d={class:"product-title fw-bold"},l={class:"product-price fw-bold text-primary"};function c(t,e,s,c,n,u){const p=(0,a.up)("RouterLink"),m=(0,a.up)("swiper-slide"),h=(0,a.up)("swiper");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(h,{modules:n.modules,"space-between":50,autoplay:"",breakpoints:n.swiper.breakpoints},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.randomProducts,(e=>((0,a.wg)(),(0,a.j4)(m,{key:e.id,class:"swiper-slide"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(p,{to:`/product/${e.id}`},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"swiper-slide-inner",style:(0,i.j5)([{height:"18rem","background-position":"center center","background-size":"cover"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)])),_:2},1032,["to"]),(0,a._)("div",o,[(0,a._)("h2",d,(0,i.zw)(e.title),1),(0,a._)("p",l," NT$ "+(0,i.zw)(t.$filters.currency(e.price)),1)])])])),_:2},1024)))),128))])),_:1},8,["modules","breakpoints"])])}var n=s(3181),u=s(4040),p={components:{Swiper:n.tq,SwiperSlide:n.o5},emits:["get-product"],data(){return{products:[],randomProducts:[],modules:[u.W_,u.tl,u.pt,u.lI],swiper:{autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:4,spaceBetween:50}}}}},methods:{getProductsList(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/utshang216/products/all").then((t=>{this.products=t.data.products,this.getRandomProducts()})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")}))},getRandomProducts(){this.randomProducts=this.products;for(let t=this.randomProducts.length-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[this.randomProducts[t],this.randomProducts[e]]=[this.randomProducts[e],this.randomProducts[t]]}this.randomProducts=this.randomProducts.splice(0,10)}},watch:{$route(){"product"===this.$route.name&&this.getProductsList()}},mounted(){this.getProductsList()}},m=s(3744);const h=(0,m.Z)(p,[["render",c],["__scopeId","data-v-565c55e0"]]);var g=h},2050:function(t,e,s){s.r(e),s.d(e,{default:function(){return rt}});var a=s(6252),i=s(3577),r=s(9963);const o=t=>((0,a.dD)("data-v-0e11a371"),t=t(),(0,a.Cn)(),t),d={class:"container my-5"},l={class:"product mb-5"},c={class:"row"},n={class:"product-img text-xl-end col-md-7"},u={class:"product-body col-md-5 mt-4 mt-md-0"},p={class:"d-flex justify-content-between"},m={class:"breadcrumb mb-4 mt-1"},h={class:"breadcrumb-item fs-7 fw-bold"},g=(0,a.Uk)("首頁"),w={class:"breadcrumb-item fs-7 fw-bold","aria-current":"page"},b=(0,a.Uk)("全部產品"),f={class:"breadcrumb-item fs-7 fw-bold","aria-current":"page"},v={key:0,class:"material-icons-outlined favorite text-primary"},_={key:1,class:"material-icons-outlined favorite text-primary"},y={class:"fw-bold mb-4 fs-2"},k={key:0,class:"price fw-bold text-primary mt-3"},x={key:1,class:"origin-price d-flex align-items-end"},P={class:"pe-2 text-primary fw-bold"},S={class:"text-decoration-line-through ps-2"},$={class:"product-description lh-lg mt-4 p-3 rounded-3 fs-6"},I={class:"accordion rounded-3 shadow mt-4",id:"accordionPanelsStayOpenExample"},U={class:"accordion-item"},j=o((()=>(0,a._)("div",{class:"accordion-button text-standard","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," 產品詳細說明 ",-1))),D={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},z={class:"accordion-body lh-lg border-top border-1 border-primary"},O={key:0,class:"fs-7"},q=o((()=>(0,a._)("h3",{class:"text-standard fs-6"},"規格：",-1))),W={key:1,class:"fs-7 mt-3"},V=o((()=>(0,a._)("h3",{class:"text-standard fs-6"},"花朵色系：",-1))),C={key:2,class:"fs-7 mt-3"},L=o((()=>(0,a._)("h3",{class:"text-standard fs-6"},"注意事項：",-1))),T=["disabled"],B=(0,a.Uk)(" 加入購物車 "),M={key:0,class:"loader",title:"1"},N=o((()=>(0,a._)("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 50 50",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},[(0,a._)("path",{fill:"#000",d:"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"},[(0,a._)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})])],-1))),R=[N],Z=o((()=>(0,a._)("ul",{class:"nav nav-tabs d-flex justify-content-around mb-3 border-bottom border-1 border-gray-400",id:"myTab",role:"tablist"},[(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," 付款/取貨 ")]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"}," 購物須知 ")])],-1))),H=o((()=>(0,a._)("div",{class:"tab-content"},[(0,a._)("div",{class:"tab-pane active lh-lg",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},[(0,a.Uk)(" ∙ 付款方式：現金付款、信用卡"),(0,a._)("br"),(0,a.Uk)(" ∙ 取/送貨方式：店面自取、黑貓-常溫（送貨需要2-3日） ")]),(0,a._)("div",{class:"tab-pane lh-lg",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},[(0,a.Uk)(" ∙ 品項有限，每款商品最多限購5個，如需大量訂購請與我們聯繫，將提供報價單！"),(0,a._)("br"),(0,a.Uk)(" ∙ 測量尺寸與實際尺寸可能會有些微誤差，螢幕亮度等可能會有色差，請以實品為主！"),(0,a._)("br"),(0,a.Uk)(" ∙ 有任何問題都可以【聯繫我們】，我們會在看到你的來訊/來信的時候盡快回覆你的訊息！ ")])],-1))),Y={class:"mt-6"},K=o((()=>(0,a._)("h2",{class:"text-primary fw-bold mb-4"},[(0,a.Uk)(" 推薦商品 "),(0,a._)("span",{class:"fs-5"},"Recommend")],-1)));function E(t,e,s,o,N,E){const F=(0,a.up)("ProductSwiper"),G=(0,a.up)("RouterLink"),J=(0,a.up)("RandomSwiper"),A=(0,a.up)("VeeLoading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",d,[(0,a._)("div",l,[(0,a._)("div",c,[(0,a._)("div",n,[N.product.imagesUrl?((0,a.wg)(),(0,a.j4)(F,{key:1,product:N.product},null,8,["product"])):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"product-img-img",style:(0,i.j5)([{height:"45rem","background-position":"center center","background-size":"cover"},{backgroundImage:`url(${N.product.imageUrl})`}])},null,4))]),(0,a._)("div",u,[(0,a._)("div",p,[(0,a._)("ol",m,[(0,a._)("li",h,[(0,a.Wm)(G,{class:"text-standard",to:"/"},{default:(0,a.w5)((()=>[g])),_:1})]),(0,a._)("li",w,[(0,a.Wm)(G,{class:"text-standard",to:"/products"},{default:(0,a.w5)((()=>[b])),_:1})]),(0,a._)("li",f,(0,i.zw)(N.product.category),1)]),(0,a._)("div",{class:"fav-icon",onClick:e[0]||(e[0]=e=>t.toggleFav(N.product.id))},[t.favorite.includes(N.product.id)?((0,a.wg)(),(0,a.iD)("span",v," favorite ")):((0,a.wg)(),(0,a.iD)("span",_," favorite_border "))])]),(0,a._)("h1",y,(0,i.zw)(N.product.title),1),N.product.origin_price===N.product.price?((0,a.wg)(),(0,a.iD)("div",k," NT$ "+(0,i.zw)(t.$filters.currency(N.product.price))+" 元 ",1)):((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",P," NT$ "+(0,i.zw)(t.$filters.currency(N.product.price))+" 元 ",1),(0,a._)("del",S," NT$ "+(0,i.zw)(t.$filters.currency(N.product.origin_price))+" 元",1)])),(0,a._)("h2",$,(0,i.zw)(N.product.description),1),(0,a._)("div",I,[(0,a._)("div",U,[j,(0,a._)("div",D,[(0,a._)("div",z,[(0,a._)("ul",null,[N.product.specification?((0,a.wg)(),(0,a.iD)("li",O,[q,(0,a.Uk)(" "+(0,i.zw)(N.product.specification),1)])):(0,a.kq)("",!0),N.product.color?((0,a.wg)(),(0,a.iD)("li",W,[V,(0,a.Uk)(" "+(0,i.zw)(N.product.color),1)])):(0,a.kq)("",!0),N.product.notice?((0,a.wg)(),(0,a.iD)("li",C,[L,(0,a.Uk)(" "+(0,i.zw)(N.product.notice),1)])):(0,a.kq)("",!0)])])])])]),(0,a.wy)((0,a._)("input",{type:"number",class:"form-control mt-4",min:"1",max:"5","onUpdate:modelValue":e[1]||(e[1]=t=>N.qty=t)},null,512),[[r.nr,N.qty,void 0,{number:!0}]]),(0,a._)("button",{type:"button",class:"btn btn-primary text-white w-100 mt-4",onClick:e[2]||(e[2]=t=>E.addCart(N.product.id,N.qty)),disabled:N.loadingItem===N.product.id},[B,N.loadingItem===N.product.id?((0,a.wg)(),(0,a.iD)("div",M,R)):(0,a.kq)("",!0)],8,T)])])]),Z,H,(0,a._)("div",Y,[K,(0,a.Wm)(J,{onGetProduct:E.getProduct},null,8,["onGetProduct"])])]),(0,a.Wm)(A,{active:N.isLoading},null,8,["active"])],64)}var F=s(8518);function G(t,e,s,r,o,d){const l=(0,a.up)("swiper-slide"),c=(0,a.up)("swiper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,{spaceBetween:10,navigation:!1,thumbs:{swiper:o.swiper.thumbsSwiper},modules:o.modules},{default:(0,a.w5)((()=>[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a._)("div",{class:"swiper-slide-inner",style:(0,i.j5)({backgroundImage:`url(${s.product.imageUrl})`})},null,4)])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.product.imagesUrl,((t,e)=>((0,a.wg)(),(0,a.j4)(l,{key:`swiperImage_${e}`},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"swiper-slide-inner",style:(0,i.j5)({backgroundImage:`url(${t})`})},null,4)])),_:2},1024)))),128))])),_:1},8,["thumbs","modules"]),(0,a.Wm)(c,{onSwiper:d.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,modules:o.modules,class:"mySwiper mt-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a._)("div",{class:"slides",style:(0,i.j5)({backgroundImage:`url(${s.product.imageUrl})`})},null,4)])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.product.imagesUrl,((t,e)=>((0,a.wg)(),(0,a.j4)(l,{key:`swiperImage_${e}`},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"slides",style:(0,i.j5)({backgroundImage:`url(${t})`})},null,4)])),_:2},1024)))),128))])),_:1},8,["onSwiper","modules"])],64)}var J=s(3181),A=s(4040),Q={props:{product:Object},components:{Swiper:J.tq,SwiperSlide:J.o5},data(){return{modules:[A.W_,A.tl,A.pt,A.lI,A.o3],swiper:{thumbsSwiper:null,autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:50}}}}},methods:{setThumbsSwiper(t){this.swiper.thumbsSwiper=t}}},X=s(3744);const tt=(0,X.Z)(Q,[["render",G],["__scopeId","data-v-55aedcfc"]]);var et=tt,st=s(9208),at={components:{ProductSwiper:et,RandomSwiper:F.Z},mixins:[st.Z],inject:["emitter"],data(){return{product:{imageUrl:""},productId:"",qty:1,loadingItem:"",isLoading:!1}},methods:{getProduct(){document.documentElement.scrollTop=0,this.isLoading=!0;const{id:t}=this.$route.params;this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/utshang216/product/${t}`).then((t=>{this.product=t.data.product,this.isLoading=!1})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")}))},updateCartItem(t){this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/utshang216/cart/${t.id}`,{data:{product_id:t.id,qty:t.qty}}).then((()=>{this.getCart()})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")}))},addCart(t,e=1){this.loadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/utshang216/cart",{data:{product_id:t,qty:e}}).then((()=>{this.loadingItem="",this.emitter.emit("push-message",{style:"success",title:"成功加入購物車囉！"}),this.emitter.emit("get-cart")})).catch((()=>{this.emitter.emit("push-message",{style:"success",title:"加入購物車失敗囉，請重新加入！"})}))}},watch:{$route(){"product"===this.$route.name&&this.getProduct()}},mounted(){this.getProduct(),this.emitter.emit("get-fav",this.favorite)}};const it=(0,X.Z)(at,[["render",E],["__scopeId","data-v-0e11a371"]]);var rt=it}}]);
//# sourceMappingURL=50.4e85f291.js.map