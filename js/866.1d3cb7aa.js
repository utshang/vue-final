"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[866],{4866:function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var r=s(6252),a=s(3577);const d=e=>((0,r.dD)("data-v-c6b3e10e"),e=e(),(0,r.Cn)(),e),o={class:"container"},i={class:"row"},l={class:"mx-auto col-md-9 col-xl-7"},c={class:"card-body rounded-3 shadow px-5 py-3 lh-lg"},n=d((()=>(0,r._)("div",{class:"text-center"},[(0,r._)("span",{class:"material-icons-outlined text-primary shopping_bag"}," shopping_bag "),(0,r._)("h2",{class:"fw-bold fs-3"},"訂單資訊確認")],-1))),p={class:"order-detail border-top border-2 border-secondary pt-3 mt-3"},u={class:"accordion rounded-3 shadow mt-4",id:"accordionPanelsStayOpenExample"},h={class:"accordion-item"},b=d((()=>(0,r._)("div",{class:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#order-items","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," 訂購商品 ",-1))),_={id:"order-items",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},w={class:"text-start fw-bold fs-6"},y={class:"d-flex align-items-end"},f={class:"fw-bold"},m={class:"fw-bold fs-7 text-muted ms-2"},g={class:"order-form my-4"},v={class:"fw-bold py-1"},x={class:"fw-bold py-1"},z={class:"fw-bold py-1"},$={class:"fw-bold py-1"},k={class:"fw-bold py-1"},D={class:"fw-bold py-1"},O={class:"fw-bold py-1"},C=(0,r.Uk)(" 總金額："),S={class:"text-primary"},j={class:"btn d-flex justify-content-around"};function q(e,t,s,d,q,N){return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",i,[(0,r._)("div",l,[(0,r._)("div",c,[n,(0,r._)("div",p,[(0,r._)("div",u,[(0,r._)("div",h,[b,(0,r._)("div",_,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(q.order.products,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"accordion-body lh-lg border-top border-1 border-primary d-flex justify-content-between",key:t.id},[(0,r._)("div",null,[(0,r._)("h1",w,(0,a.zw)(t.product.title),1),(0,r._)("div",y,[(0,r._)("p",f," NT$ "+(0,a.zw)(e.$filters.currency(t.product.price*t.qty)),1),(0,r._)("del",m," NT$ "+(0,a.zw)(e.$filters.currency(t.product.origin_price*t.qty)),1)])]),(0,r._)("div",null,"x "+(0,a.zw)(t.qty)+" "+(0,a.zw)(t.product.unit),1)])))),128))])])]),(0,r._)("div",g,[(0,r._)("ul",null,[(0,r._)("li",v,"訂單編號："+(0,a.zw)(q.order.id),1),(0,r._)("li",x,"姓名："+(0,a.zw)(q.user.name),1),(0,r._)("li",z,"聯絡電話："+(0,a.zw)(q.user.tel)+'">',1),(0,r._)("li",$,"Email："+(0,a.zw)(q.user.email)+">",1),(0,r._)("li",k,"寄送地址："+(0,a.zw)(q.user.address),1),(0,r._)("li",D,"備註："+(0,a.zw)(q.order.message),1),(0,r._)("li",O,[C,(0,r._)("span",S,"NTD$ "+(0,a.zw)(q.order.total)+" 元",1)])])])]),(0,r._)("div",j,[(0,r._)("button",{type:"submit",class:"btn btn-primary text-white w-100 fs-5",onClick:t[0]||(t[0]=e=>N.getPay(q.order.id))}," 確認付款 ")])])])])])}var N={inject:["emitter"],data(){return{order:{},user:{},orderDate:"",orderID:""}},methods:{getOrder(e){this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/utshang216/order/${e}`).then((e=>{this.order=e.data.order,this.user=e.data.order.user})).catch((e=>{this.$httpMessageState(e.response,"錯誤訊息")}))},getPay(e){this.$http.post(`https://vue3-course-api.hexschool.io/v2/api/utshang216/pay/${e}`).then((()=>{this.emitter.emit("get-cart"),this.$router.push("/orderfinished")})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"付款失敗，請重新付款！"})}))}},mounted(){this.getOrder(this.$route.params.id)}},P=s(3744);const T=(0,P.Z)(N,[["render",q],["__scopeId","data-v-c6b3e10e"]]);var E=T}}]);
//# sourceMappingURL=866.1d3cb7aa.js.map