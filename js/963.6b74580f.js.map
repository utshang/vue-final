{"version":3,"file":"js/963.6b74580f.js","mappings":"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","sources":["webpack://vue-final/./src/mixins/FavoriteMixin.js","webpack://vue-final/./src/components/PaginationCom.vue","webpack://vue-final/./src/components/PaginationCom.vue?35b6","webpack://vue-final/./src/views/frontend/ProductsView.vue","webpack://vue-final/./src/views/frontend/ProductsView.vue?bf7f"],"sourcesContent":["export default {\n  inject: [\"emitter\"],\n  data() {\n    return {\n      //從 localStorage 取出資料\n      //給預設值[]\n      favorite: JSON.parse(localStorage.getItem(\"favorite\")) || [],\n    };\n  },\n  methods: {\n    toggleFav(id) {\n      //查 favorite 中有沒有這一個 id\n      //findIndex() 方法返回陣列中滿足提供的測試函式的第一個元素的索引。若沒有找到對應元素則返回-1。\n      const favIDd = this.favorite.findIndex((item) => item === id);\n\n      //如果沒有這一個 id，push 進去 favorite 裡\n      if (favIDd === -1) {\n        this.favorite.push(id);\n        this.emitter.emit(\"push-message\", {\n          style: \"success\",\n          title: \"已經加入最愛囉！\",\n        });\n        //如果有這一個 id，從 favorite 中將 favIDd 刪掉\n      } else {\n        this.favorite.splice(favIDd, 1);\n        this.emitter.emit(\"push-message\", {\n          style: \"danger\",\n          title: \"已經移除最愛囉！\",\n        });\n      }\n      this.emitter.emit(\"get-fav\", this.favorite);\n    },\n  },\n  watch: {\n    favorite: {\n      //深層監聽\n      deep: true,\n      //handler 控制器\n      handler() {\n        //localStorage 自訂欄位 \"favorite\"\n        //監聽 favorite，favorite 有變動時有變動時就寫入\n        localStorage.setItem(\"favorite\", JSON.stringify(this.favorite));\n      },\n    },\n  },\n};\n","<template>\n  <!-- :class=\"{disabled: !pages.has_pre} 沒有上一頁的時候disable(在第一頁時不會有上一頁)\n  @click=\"$emit('get-page', pages.current_page - 1)\" 點擊前一頁按鈕 等於當前頁數-1 -->\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\n        <a\n          class=\"page-link text-standard\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"emitPages(pages.current_page - 1)\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        v-for=\"item in pages.total_pages\"\n        :key=\"item + 'page'\"\n        class=\"page-item\"\n        :class=\"{ active: item === pages.current_page }\"\n      >\n        <span\n          class=\"page-link text-standard\"\n          v-if=\"item === pages.current_page\"\n          >{{ item }}</span\n        >\n        <a\n          class=\"page-link text-standard\"\n          href=\"#\"\n          v-else\n          @click.prevent=\"emitPages(item)\"\n          >{{ item }}</a\n        >\n      </li>\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\n        <a\n          class=\"page-link text-standard\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"emitPages(pages.current_page + 1)\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: [\"pages\"],\n  methods: {\n    emitPages(item) {\n      this.$emit(\"emit-pages\", item);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationCom.vue?vue&type=template&id=592ca5eb\"\nimport script from \"./PaginationCom.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationCom.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ashleyshang/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"main container\">\n    <!-- 麵包屑導航 -->\n    <div class=\"d-sm-flex justify-content-sm-between mb-5\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><RouterLink to=\"/\">首頁</RouterLink></li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">\n          <RouterLink\n            class=\"text-standard\"\n            to=\"/products\"\n            @click=\"getProductsList\"\n            >全部產品</RouterLink\n          >\n        </li>\n      </ol>\n      <div>\n        <div class=\"d-flex\">\n          <input\n            type=\"search\"\n            v-model.trim=\"search\"\n            placeholder=\"請輸入關鍵字\"\n            class=\"fs-7 px-2 rounded-0 border border-1 border-muted w-100\"\n          />\n          <button\n            type=\"submit\"\n            class=\"btn bg-primary d-flex align-items-center rounded-0\"\n            @click=\"searchProducts\"\n          >\n            <span class=\"material-icons-outlined text-white\"> search </span>\n          </button>\n        </div>\n        <ul\n          class=\"search-list shadow mt-2 position-absolute\"\n          :class=\"searchComplete ? '' : 'd-none'\"\n        >\n          <h1>\n            <li\n              class=\"search-result p-3 fs-7\"\n              v-for=\"item in matchProducts\"\n              :key=\"item.title\"\n            >\n              <RouterLink :to=\"`/product/${item.id}`\"\n                >{{ item.title }}\n              </RouterLink>\n            </li>\n          </h1>\n        </ul>\n      </div>\n    </div>\n    <!-- 產品 -->\n    <div class=\"menu row mt-5\">\n      <div class=\"category ps-md-5 col-md-6 col-lg-3\">\n        <h2\n          class=\"mb-4 fs-4 fw-bold text-primary d-flex align-items-center justify-content-center justify-content-md-start\"\n          @click=\"getCategory('')\"\n        >\n          全部商品<span class=\"ms-2 material-icons-outlined\">\n            local_florist\n          </span>\n        </h2>\n        <ul class=\"d-flex d-md-block justify-content-evenly mt-3\">\n          <li\n            class=\"mb-4\"\n            v-for=\"item in categories\"\n            :key=\"`類別_${item}`\"\n            @click=\"getCategory(item)\"\n          >\n            <a\n              ><h2 class=\"fs-5\">{{ item }}</h2></a\n            >\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"col-md-6 col-lg-9\">\n        <template v-if=\"products.length === 0\">\n          <div class=\"text-center pt-4\">\n            <span\n              class=\"material-icons-outlined sentiment_dissatisfied text-primary pb-3\"\n            >\n              sentiment_dissatisfied\n            </span>\n            <p class=\"text-muted mb-4 fs-5 fw-bold\">沒有符合條件的搜尋結果！</p>\n          </div>\n        </template>\n        <template v-else>\n          <div class=\"row row-cols-1 row-cols-sm-2 row-cols-xl-3 g-4\">\n            <div class=\"col\" v-for=\"item in products\" :key=\"item.id\">\n              <div class=\"card border-width h-100 shadow\">\n                <div\n                  class=\"fav-icon position-absolute\"\n                  @click=\"toggleFav(item.id)\"\n                >\n                  <span\n                    class=\"material-icons-outlined favorite position-absolute text-white\"\n                    v-if=\"favorite.includes(item.id)\"\n                  >\n                    favorite\n                  </span>\n                  <span\n                    class=\"material-icons-outlined favorite position-absolute text-white\"\n                    v-else\n                  >\n                    favorite_border\n                  </span>\n                </div>\n                <RouterLink :to=\"`/product/${item.id}`\">\n                  <div\n                    class=\"card-img\"\n                    :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n                  ></div\n                ></RouterLink>\n                <div\n                  class=\"card-body d-flex align-items-end justify-content-between\"\n                >\n                  <div class=\"card-body-content\">\n                    <RouterLink\n                      class=\"card-title fs-5 text-black fw-bold lh-base mb-2\"\n                      :to=\"`/product/${item.id}`\"\n                    >\n                      {{ item.title }}\n                    </RouterLink>\n                    <div\n                      class=\"price fs-6 fw-bold text-primary mt-3\"\n                      v-if=\"item.origin_price === item.price\"\n                    >\n                      NT$ {{ $filters.currency(item.price) }} 元\n                    </div>\n                    <div\n                      class=\"origin-price d-flex align-items-end mt-3\"\n                      v-else\n                    >\n                      <p class=\"fs-6 pe-2 text-primary fs-5 fw-bold\">\n                        NT$ {{ $filters.currency(item.price) }} 元\n                      </p>\n                      <del class=\"fs-7 text-muted\">\n                        NT$\n                        {{ $filters.currency(item.origin_price) }} 元</del\n                      >\n                    </div>\n                  </div>\n\n                  <div @click=\"addCart(item.id)\">\n                    <div\n                      class=\"loader\"\n                      title=\"1\"\n                      v-if=\"loadingItem === item.id\"\n                    >\n                      <svg\n                        version=\"1.1\"\n                        id=\"loader-1\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                        x=\"0px\"\n                        y=\"0px\"\n                        width=\"24px\"\n                        height=\"24px\"\n                        viewBox=\"0 0 50 50\"\n                        style=\"enable-background: new 0 0 50 50\"\n                        xml:space=\"preserve\"\n                      >\n                        <path\n                          fill=\"#000\"\n                          d=\"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z\"\n                        >\n                          <animateTransform\n                            attributeType=\"xml\"\n                            attributeName=\"transform\"\n                            type=\"rotate\"\n                            from=\"0 25 25\"\n                            to=\"360 25 25\"\n                            dur=\"0.6s\"\n                            repeatCount=\"indefinite\"\n                          />\n                        </path>\n                      </svg>\n                    </div>\n                    <a class=\"cart-icon text-primary\" v-else>\n                      <span class=\"material-icons-outlined\">\n                        add_shopping_cart\n                      </span>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n    <PaginationCom\n      class=\"d-flex justify-content-md-end justify-content-center mt-5\"\n      :pages=\"pagination\"\n      @emit-pages=\"getProductsList\"\n    />\n  </div>\n  <VeeLoading :active=\"isLoading\" />\n</template>\n\n<script>\nimport PaginationCom from \"@/components/PaginationCom.vue\";\nimport FavoriteMixin from \"@/mixins/FavoriteMixin\";\n\nexport default {\n  data() {\n    return {\n      product: {},\n      products: [],\n      allProducts: [],\n      pagination: {},\n      category: \"\",\n      categories: [],\n      cartData: {},\n      loadingItem: \"\",\n      isLoading: false,\n      currentPage: 1,\n      search: \"\",\n      searchResult: [],\n      searchComplete: false,\n    };\n  },\n  mixins: [FavoriteMixin],\n  inject: [\"emitter\"],\n  components: {\n    PaginationCom,\n  },\n  methods: {\n    getProductsList(page = 1) {\n      document.documentElement.scrollTop = 0;\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/products/?page=${page}&category=${this.category}`\n        )\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, \"錯誤訊息\");\n        });\n    },\n    addCart(id, qty = 1) {\n      this.loadingItem = id;\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/cart`,\n          {\n            data: { product_id: id, qty },\n          }\n        )\n        .then(() => {\n          //讀取完後清空\n          this.loadingItem = \"\";\n          this.emitter.emit(\"push-message\", {\n            style: \"success\",\n            title: \"成功加入購物車囉！\",\n          });\n          this.emitter.emit(\"get-cart\");\n        })\n        .catch(() => {\n          this.emitter.emit(\"push-message\", {\n            style: \"danger\",\n            title: \"加入購物車失敗囉，請重新加入！\",\n          });\n        });\n    },\n    getAllProducts() {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/products/all`\n        )\n        .then((res) => {\n          this.allProducts = res.data.products;\n          this.isLoading = false;\n          this.getCategories();\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, \"錯誤訊息\");\n        });\n    },\n    getCategories() {\n      //取出 allProducts 所有產品的 category\n      const MapCategories = this.allProducts.map((item) => item.category);\n      //使用 set 過濾重複的元素，並轉成陣列\n      this.categories = new Set(MapCategories);\n    },\n    getCategory(category) {\n      this.category = category;\n    },\n    searchProducts() {\n      this.products = this.matchProducts;\n      this.searchComplete = false;\n      this.search = \"\";\n    },\n  },\n  watch: {\n    category() {\n      this.getProductsList();\n    },\n    search() {\n      if (this.search) {\n        this.searchComplete = true;\n        this.pagination.current_page = 1;\n        this.pagination.total_pages = 1;\n        this.pagination.has_next = false;\n      } else {\n        this.searchComplete = false;\n      }\n    },\n  },\n  computed: {\n    matchProducts() {\n      const strArr = this.search.split(\" \"); // 以空白格切分字串\n      const arr = [];\n      // 比對字串\n      strArr.forEach((str) => {\n        this.allProducts.forEach((item) => {\n          if (item.title.includes(str)) {\n            arr.push(item);\n          }\n        });\n      });\n      // 如果輸入兩個關鍵字就會出現重複的資料，所以需要刪除重複資料。\n      // 過濾出重複的元素\n      return [...new Set(arr)];\n\n      // this.searchResult = [...new Set(arr)];\n    },\n  },\n  mounted() {\n    this.getProductsList();\n    this.getAllProducts();\n    this.emitter.emit(\"get-fav\", this.favorite);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$primary: #ad795d;\n$secondary: #e6ccab;\n$gray-300: #dee2e6;\n$gray-600: #6c757d;\n$black: #000;\n$white: #fffafa;\n\n.main {\n  margin-top: 60px;\n  margin-bottom: 60px;\n}\n.breadcrumb {\n  padding-left: 0rem;\n}\n@media screen and (min-width: 769px) {\n  .breadcrumb {\n    padding-left: 2.2rem;\n  }\n}\n.router-link-active {\n  color: $gray-600;\n  &:hover {\n    color: #c6cace;\n  }\n}\n.router-link-exact-active {\n  color: $primary;\n  font-weight: bold;\n  &:hover {\n    color: $secondary;\n  }\n}\n.category li a {\n  color: $gray-600;\n  width: 200px;\n  transition: all 0.5s;\n}\n.category li a h2 {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  transition: 0.5s;\n}\n.category li a h2:after {\n  content: \"\\00bb\";\n  position: absolute;\n  opacity: 0;\n  top: 0;\n  right: -20px;\n  transition: 0.5s;\n}\n.category li a:hover h2 {\n  color: #c6cace;\n  padding-right: 25px;\n}\n.category li a:hover h2:after {\n  opacity: 1;\n  right: 0;\n}\n@media screen and (min-width: 769px) {\n  .category {\n    position: sticky;\n    top: 118px;\n    height: calc(100vh - 118px);\n  }\n}\n.card {\n  border-radius: 1rem;\n  transition-duration: 0.3s;\n  &:hover {\n    transform: translateY(-6px);\n    .fav-icon {\n      display: block;\n      animation: fav-animation;\n      animation-duration: 0.5s;\n      transition: all 0.3s ease;\n    }\n  }\n  .card-img {\n    height: 22rem;\n    background-size: cover;\n    background-position: center;\n    border-top-left-radius: 1em;\n    border-top-right-radius: 1em;\n  }\n  .cart-icon {\n    height: 2rem;\n    width: 2rem;\n    cursor: pointer;\n  }\n  .fav-icon {\n    top: 3%;\n    right: 3%;\n    height: 2.5rem;\n    width: 2.5rem;\n    background-color: rgba(0, 0, 0, 0.25);\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    .favorite {\n      top: 21%;\n      left: 20%;\n    }\n  }\n}\n\n.search-list {\n  width: 351px;\n  background-color: #fff;\n  z-index: 1;\n  .search-result {\n    letter-spacing: 1px;\n    &:hover {\n      background-color: $gray-300;\n      cursor: pointer;\n    }\n    a {\n      color: $black;\n    }\n  }\n}\n\n@media screen and (min-width: 424px) {\n  .search-list {\n    width: 401px;\n  }\n}\n\n@media screen and (min-width: 576px) {\n  .search-list {\n    width: 222px;\n  }\n}\n\n.menu {\n  .sentiment_dissatisfied {\n    font-size: 3rem;\n  }\n}\n\n.loader {\n  text-align: center;\n  display: inline-block;\n  vertical-align: top;\n}\n\nsvg path,\nsvg rect {\n  fill: $primary;\n}\n\n@keyframes fav-animation {\n  from {\n    top: 0;\n  }\n  to {\n    top: 3%;\n  }\n}\n</style>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=2539b57f&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=2539b57f&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/ashleyshang/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2539b57f\"]])\n\nexport default __exports__"],"names":["inject","data","favorite","JSON","parse","localStorage","getItem","methods","toggleFav","id","favIDd","this","findIndex","item","push","emitter","emit","style","title","splice","watch","deep","handler","setItem","stringify","class","_createElementVNode","_hoisted_3","_hoisted_7","_createElementBlock","disabled","$props","has_pre","href","onClick","$options","current_page","_Fragment","_renderList","total_pages","key","active","_toDisplayString","_hoisted_6","has_next","props","emitPages","$emit","__exports__","render","_hoisted_9","_hoisted_14","_hoisted_21","_hoisted_22","version","xmlns","x","y","width","height","viewBox","fill","d","attributeType","attributeName","type","from","to","dur","repeatCount","_hoisted_37","_hoisted_40","_createVNode","_component_RouterLink","$data","$event","placeholder","length","_hoisted_23","_ctx","includes","backgroundImage","imageUrl","origin_price","price","currency","_hoisted_38","_hoisted_41","_component_PaginationCom","pages","onEmitPages","_component_VeeLoading","product","products","allProducts","pagination","category","categories","cartData","loadingItem","isLoading","currentPage","search","searchResult","searchComplete","mixins","FavoriteMixin","components","PaginationCom","getProductsList","page","document","documentElement","scrollTop","$http","get","then","res","catch","err","$httpMessageState","response","addCart","qty","post","product_id","getAllProducts","getCategories","MapCategories","map","Set","getCategory","searchProducts","matchProducts","computed","strArr","split","arr","forEach","str","mounted"],"sourceRoot":""}