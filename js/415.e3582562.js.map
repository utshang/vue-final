{"version":3,"file":"js/415.e3582562.js","mappings":"+LACOA,MAAM,a,GACJA,MAAM,iD,GACTC,EAAAA,EAAAA,GAEK,MAFDD,MAAM,sDAAqD,UAE/D,G,GACKA,MAAM,S,GAGFA,MAAM,sB,GAUTC,EAAAA,EAAAA,GAAgC,SAAzBC,IAAI,YAAW,MAAE,G,GAErBF,MAAM,iB,GASTC,EAAAA,EAAAA,GAAgC,SAAzBC,IAAI,YAAW,MAAE,G,GAE1BD,EAAAA,EAAAA,GAKS,UAJPD,MAAM,+CACNG,KAAK,UACN,QAED,G,WAEG,Q,yEAtCXC,EAAAA,EAAAA,IA2CM,MA3CN,EA2CM,EA1CJH,EAAAA,EAAAA,GAyCM,MAzCN,EAyCM,CAxCJI,GAGAJ,EAAAA,EAAAA,GAoCM,MApCN,EAoCM,EAlCJA,EAAAA,EAAAA,GAiCO,QAjCDK,GAAG,OAAON,MAAM,cAAeO,SAAM,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAA3D,EACEP,EAAAA,EAAAA,GAWM,MAXN,EAWM,WAVJA,EAAAA,EAAAA,GAQE,SAPAE,KAAK,QACLH,MAAM,eACNM,GAAG,WACHG,YAAY,W,qCACHC,EAAAA,KAAKC,SAAQC,GACtBC,SAAA,GACAC,UAAA,IAPF,iBAKWJ,EAAAA,KAAKC,YAIhBI,KAEFd,EAAAA,EAAAA,GAUM,MAVN,EAUM,WATJA,EAAAA,EAAAA,GAOE,SANAE,KAAK,WACLH,MAAM,eACNM,GAAG,WACHG,YAAY,Q,qCACHC,EAAAA,KAAKM,SAAQJ,GACtBC,SAAA,IANF,iBAKWH,EAAAA,KAAKM,YAGhBC,IAEFC,GAMAC,EAAAA,EAAAA,IAECC,EAAA,CAFWC,GAAG,IAAIrB,MAAM,sCAAzB,C,kBACG,IAAI,M,OA/BT,UAwCR,OACEsB,OACE,MAAO,CACLC,KAAM,CACJZ,SAAU,GACVK,SAAU,MAIhBQ,OAAQ,CAAC,WACTC,QAAS,CACPC,SACEC,KAAKC,MACFC,KAAM,uDAA6CF,KAAKJ,MACxDO,MAAMC,IACL,MAAM,MAAEC,EAAF,QAASC,GAAYF,EAAIT,KAE/BY,SAASC,OAAU,mBAAkBH,cAAkB,IAAII,KACzDH,MAEFN,KAAKU,QAAQC,KAAK,sBAEnBC,OAAM,KACLZ,KAAKa,QAAQC,KAAK,eAAgB,CAChCC,MAAO,UACPC,MAAO,gBAEThB,KAAKU,QAAQC,KAAK,gB,UCtE5B,MAAMM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue-final/./src/views/LoginView.vue","webpack://vue-final/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center align-items-center\">\n      <h1 class=\"h3 mt-6 mb-5 fs-3 text-center text-primary fw-bold\">\n        登入後台\n      </h1>\n      <div class=\"col-8\">\n        <!-- @submit.prevent 阻止表單送出 加上 @submit.prevent 後畫面不會重新載入 -->\n        <form id=\"form\" class=\"form-signin\" @submit.prevent=\"signIn\">\n          <div class=\"form-floating mb-3\">\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              id=\"username\"\n              placeholder=\"請輸入管理者帳號\"\n              v-model=\"user.username\"\n              required\n              autofocus\n            />\n            <label for=\"username\">帳號</label>\n          </div>\n          <div class=\"form-floating\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              id=\"password\"\n              placeholder=\"請輸入密碼\"\n              v-model=\"user.password\"\n              required\n            />\n            <label for=\"password\">密碼</label>\n          </div>\n          <button\n            class=\"btn btn-lg btn-primary text-white w-100 mt-3\"\n            type=\"submit\"\n          >\n            登入\n          </button>\n          <RouterLink to=\"/\" class=\"d-flex justify-content-center mt-3\"\n            >回到首頁</RouterLink\n          >\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        username: \"\",\n        password: \"\",\n      },\n    };\n  },\n  inject: [\"emitter\"],\n  methods: {\n    signIn() {\n      this.$http\n        .post(`${process.env.VUE_APP_API}/v2/admin/signin`, this.user)\n        .then((res) => {\n          const { token, expired } = res.data;\n          //把 token 存到 cookie 中後，畫面導向 /admin/products\n          document.cookie = `TheFloristToken=${token}; expires=${new Date(\n            expired\n          )};`;\n          this.$router.push(\"/admin/products\");\n        })\n        .catch(() => {\n          this.emitter.emit(\"push-message\", {\n            style: \"success\",\n            title: \"登入失敗，請重新登入！\",\n          });\n          this.$router.push(\"/login\");\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./LoginView.vue?vue&type=template&id=99ce15a0\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ashleyshang/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_3","id","onSubmit","$options","placeholder","$data","username","$event","required","autofocus","_hoisted_6","password","_hoisted_8","_hoisted_9","_createVNode","_component_RouterLink","to","data","user","inject","methods","signIn","this","$http","post","then","res","token","expired","document","cookie","Date","$router","push","catch","emitter","emit","style","title","__exports__","render"],"sourceRoot":""}