{"version":3,"file":"js/2.86843203.js","mappings":"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","sources":["webpack://vue-final/./src/views/backend/AdminProducts.vue","webpack://vue-final/./src/components/backend/ProductModal.vue","webpack://vue-final/./src/components/backend/ProductModal.vue?106f","webpack://vue-final/./src/views/backend/AdminProducts.vue?95a6"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <div class=\"d-flex justify-content-between\">\n      <h2 class=\"fs-2 fw-bold text-primary\">產品列表</h2>\n      <button\n        class=\"btn btn-primary text-white\"\n        type=\"button\"\n        @click=\"openModal(true)\"\n      >\n        建立新的產品\n      </button>\n    </div>\n    <table class=\"table mt-4 border border-1 border-muted\">\n      <thead class=\"bg-primary text-white fw-bold\">\n        <tr>\n          <th width=\"120\">分類</th>\n          <th width=\"200\">產品名稱</th>\n          <th width=\"120\">原價</th>\n          <th width=\"120\">售價</th>\n          <th width=\"100\">是否啟用</th>\n          <th width=\"100\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          v-for=\"item in products\"\n          :key=\"item.id\"\n          class=\"border-bottom border-1 border-muted\"\n        >\n          <td>{{ item.category }}</td>\n          <td>{{ item.title }}</td>\n          <td>\n            {{ item.origin_price }}\n          </td>\n          <td>\n            {{ item.price }}\n          </td>\n          <td>\n            <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n            <span v-else>未啟用</span>\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button\n                class=\"btn btn-primary text-white btn-sm me-2 rounded\"\n                type=\"button\"\n                @click=\"openModal(false, item)\"\n              >\n                編輯\n              </button>\n              <button\n                class=\"btn btn-danger text-white btn-sm rounded\"\n                type=\"button\"\n                @click=\"openDelProductModal(item)\"\n              >\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <PaginationCom\n      class=\"d-flex justify-content-end\"\n      :pages=\"pagination\"\n      @emit-pages=\"getProductsList\"\n    />\n    <!-- ProductModal -->\n    <ProductModal\n      @update-product=\"updateProduct\"\n      :product=\"tempProduct\"\n      :isNew=\"isNew\"\n      ref=\"productModal\"\n    />\n    <!-- DelModal -->\n    <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\" />\n    <VeeLoading :active=\"isLoading\" />\n  </div>\n</template>\n\n<script>\nimport ProductModal from \"@/components/backend/ProductModal.vue\";\nimport DelModal from \"@/components/backend/DelModal.vue\";\nimport PaginationCom from \"@/components/PaginationCom.vue\";\n\nexport default {\n  components: {\n    ProductModal,\n    DelModal,\n    PaginationCom,\n  },\n  // props: [\"token\"],\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n      status: {\n        fileUploading: false,\n      },\n      currentPage: 1,\n    };\n  },\n  methods: {\n    getProductsList(page = 1) {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\n        )\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, \"錯誤訊息\");\n        });\n    },\n    openModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {};\n        this.isNew = true;\n      } else {\n        this.tempProduct = { ...item };\n        this.isNew = false;\n      }\n      const productComponent = this.$refs.productModal;\n      productComponent.openModal();\n    },\n    updateProduct(item) {\n      this.tempProduct = item;\n      let api = `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/admin/product`;\n      this.isLoading = true;\n      let httpMethod = \"post\";\n      let status = \"新增產品\";\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n        httpMethod = \"put\";\n        status = \"更新產品\";\n      }\n      const productComponent = this.$refs.productModal;\n      this.$http[httpMethod](api, { data: this.tempProduct })\n        .then((res) => {\n          this.isLoading = false;\n          //$httpMessageState已經import在全域main.js中，不需要再import，在任何地方都可以使用\n          this.$httpMessageState(res, status);\n          productComponent.hideModal();\n          this.getProductsList(this.currentPage);\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.$httpMessageState(err.response, status);\n        });\n    },\n    openDelProductModal(item) {\n      this.tempProduct = { ...item };\n      const delComponent = this.$refs.delModal;\n      delComponent.openModal();\n    },\n    delProduct() {\n      this.isLoading = true;\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\n        )\n        .then((res) => {\n          this.isLoading = false;\n          this.$httpMessageState(res, \"刪除產品\");\n          const delComponent = this.$refs.delModal;\n          delComponent.hideModal();\n          this.getProductsList(this.currentPage);\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.$httpMessageState(err.response, \"刪除產品\");\n        });\n    },\n  },\n  mounted() {\n    this.getProductsList();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control border border-1 border-muted\"\n                  id=\"image\"\n                  v-model=\"tempProduct.imageUrl\"\n                  placeholder=\"請輸入圖片連結\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i\n                    class=\"fas fa-spinner fa-spin\"\n                    v-if=\"status.fileUploading\"\n                  ></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile\"\n                  class=\"form-control\"\n                  ref=\"fileInput\"\n                  @change=\"uploadFile\"\n                />\n              </div>\n              <img\n                class=\"img-fluid\"\n                :src=\"tempProduct.imageUrl\"\n                :alt=\"tempProduct.title\"\n              />\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\" v-if=\"tempProduct.imagesUrl\">\n                <div\n                  v-for=\"(image, index) in tempProduct.imagesUrl\"\n                  class=\"mb-3\"\n                  :key=\"`多圖_${index}`\"\n                >\n                  <input\n                    type=\"url\"\n                    class=\"form-control form-control\"\n                    v-model=\"tempProduct.imagesUrl[index]\"\n                    placeholder=\"請輸入連結\"\n                  />\n                  <div>\n                    <img class=\"img-fluid\" :src=\"image\" :alt=\"產品多圖\" />\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger\"\n                    @click=\"tempProduct.imagesUrl.splice(index, 1)\"\n                  >\n                    移除\n                  </button>\n                </div>\n                <div\n                  v-if=\"\n                    tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1] ||\n                    !tempProduct.imagesUrl.length\n                  \"\n                >\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-primary text-white btn-sm d-block w-100\"\n                    @click=\"tempProduct.imagesUrl.push('')\"\n                  >\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control border border-1 border-muted\"\n                  id=\"title\"\n                  v-model=\"tempProduct.title\"\n                  placeholder=\"請輸入標題\"\n                />\n              </div>\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control border border-1 border-muted\"\n                    id=\"category\"\n                    v-model=\"tempProduct.category\"\n                    placeholder=\"請輸入分類\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control border border-1 border-muted\"\n                    id=\"unit\"\n                    v-model=\"tempProduct.unit\"\n                    placeholder=\"請輸入單位\"\n                  />\n                </div>\n              </div>\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control border border-1 border-muted\"\n                    id=\"origin_price\"\n                    min=\"0\"\n                    v-model.number=\"tempProduct.origin_price\"\n                    placeholder=\"請輸入原價\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control border border-1 border-muted\"\n                    id=\"price\"\n                    v-model.number=\"tempProduct.price\"\n                    min=\"0\"\n                    placeholder=\"請輸入售價\"\n                  />\n                </div>\n              </div>\n              <hr />\n              <div class=\"mb-3\">\n                <div class=\"mb-3\">\n                  <label for=\"content\" class=\"form-label\">說明</label>\n                  <textarea\n                    type=\"text\"\n                    class=\"form-control border border-1 border-muted\"\n                    id=\"content\"\n                    v-model=\"tempProduct.content\"\n                    placeholder=\"請輸入說明\"\n                  ></textarea>\n                </div>\n                <!-- 文案 -->\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control border border-1 border-muted\"\n                  id=\"description\"\n                  v-model=\"tempProduct.description\"\n                  placeholder=\"請輸入產品描述\"\n                ></textarea>\n              </div>\n              <!-- 尺寸、支數 -->\n              <div class=\"mb-3\">\n                <label for=\"specification\" class=\"form-label\">規格</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control border border-1 border-muted\"\n                  id=\"specification\"\n                  v-model=\"tempProduct.specification\"\n                  placeholder=\"請輸入規格\"\n                ></textarea>\n              </div>\n              <!-- 花朵色系 -->\n              <div class=\"mb-3\">\n                <label for=\"color\" class=\"form-label\">色系</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control border border-1 border-muted\"\n                  id=\"color\"\n                  v-model=\"tempProduct.color\"\n                  placeholder=\"請輸入色系\"\n                ></textarea>\n              </div>\n              <!-- 注意事項 -->\n              <div class=\"mb-3\">\n                <label for=\"notice\" class=\"form-label\">注意事項</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control border border-1 border-muted\"\n                  id=\"notice\"\n                  v-model=\"tempProduct.notice\"\n                  placeholder=\"請輸入注意事項\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-success text-white\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary text-white\"\n            @click=\"$emit('update-product', tempProduct)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from \"@/mixins/modalMixin\";\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    isNew: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      status: {},\n      modal: \"\",\n      //使用tempProduct去接收外層的資料product\n      tempProduct: {},\n    };\n  },\n  emits: [\"update-product\"],\n  mixins: [modalMixin],\n  inject: [\"emitter\"],\n  methods: {\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      //  用來建一個 FormData 的資料\n      const formData = new FormData();\n      //  把從 DOM 取到的物件加到 file-to-upload 這個屬性\n      formData.append(\"file-to-upload\", uploadedFile);\n      this.status.fileUploading = true;\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`,\n          formData,\n          {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }\n        )\n        .then((res) => {\n          this.status.fileUploading = false;\n          if (res.data.success) {\n            this.tempProduct.imageUrl = res.data.imageUrl;\n            this.$refs.fileInput.value = \"\";\n            //傳遞資料\n            this.emitter.emit(\"push-message\", {\n              style: \"success\",\n              title: \"圖片已上傳\",\n              content: res.data.message,\n            });\n          } else {\n            this.$refs.fileInput.value = \"\";\n            this.emitter.emit(\"push-message\", {\n              style: \"danger\",\n              title: \"圖片已上傳\",\n              content: res.data.message,\n            });\n          }\n        })\n        .catch((err) => {\n          this.status.fileUploading = false;\n          this.$httpMessageState(err.response, \"圖片失敗\");\n        });\n    },\n  },\n  watch: {\n    //監聽props的product\n    product() {\n      //使用tempProduct去接收外層的資料product\n      this.tempProduct = this.product;\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = [];\n      }\n      if (!this.tempProduct.imageUrl) {\n        this.tempProduct.imageUrl = \"\";\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=ff3ec9d0\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ashleyshang/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=728ab876\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ashleyshang/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createElementBlock","_hoisted_3","type","onClick","$options","_hoisted_5","_Fragment","_renderList","$data","item","key","id","_toDisplayString","category","title","origin_price","price","is_enabled","_hoisted_7","_hoisted_9","_hoisted_10","_createVNode","_component_PaginationCom","pages","onEmitPages","_component_ProductModal","onUpdateProduct","product","isNew","ref","_component_DelModal","onDelItem","_component_VeeLoading","active","tabindex","role","for","$props","_hoisted_6","_hoisted_8","_hoisted_13","imageUrl","$event","placeholder","fileUploading","onChange","src","alt","imagesUrl","image","index","_ctx","splice","_hoisted_22","length","_hoisted_23","push","_hoisted_26","_hoisted_29","_hoisted_31","unit","_hoisted_34","min","_hoisted_36","_hoisted_37","_hoisted_40","content","_hoisted_41","description","_hoisted_43","specification","_hoisted_45","color","_hoisted_47","notice","_hoisted_50","_hoisted_52","props","Object","default","Boolean","data","status","modal","tempProduct","emits","mixins","modalMixin","inject","methods","uploadFile","uploadedFile","this","$refs","fileInput","files","formData","FormData","append","$http","post","headers","then","res","success","value","emitter","emit","style","message","catch","err","$httpMessageState","response","watch","__exports__","components","ProductModal","DelModal","PaginationCom","products","pagination","isLoading","currentPage","getProductsList","page","get","openModal","productComponent","productModal","updateProduct","api","httpMethod","hideModal","openDelProductModal","delComponent","delModal","delProduct","delete","mounted","render"],"sourceRoot":""}