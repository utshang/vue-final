{"version":3,"file":"js/866.1d3cb7aa.js","mappings":"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","sources":["webpack://vue-final/./src/views/frontend/CheckOut.vue","webpack://vue-final/./src/views/frontend/CheckOut.vue?6d5b"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"mx-auto col-md-9 col-xl-7\">\n        <div class=\"card-body rounded-3 shadow px-5 py-3 lh-lg\">\n          <div class=\"text-center\">\n            <span class=\"material-icons-outlined text-primary shopping_bag\">\n              shopping_bag\n            </span>\n            <h2 class=\"fw-bold fs-3\">訂單資訊確認</h2>\n          </div>\n          <div\n            class=\"order-detail border-top border-2 border-secondary pt-3 mt-3\"\n          >\n            <div\n              class=\"accordion rounded-3 shadow mt-4\"\n              id=\"accordionPanelsStayOpenExample\"\n            >\n              <div class=\"accordion-item\">\n                <div\n                  class=\"accordion-button\"\n                  data-bs-toggle=\"collapse\"\n                  data-bs-target=\"#order-items\"\n                  aria-expanded=\"true\"\n                  aria-controls=\"panelsStayOpen-collapseOne\"\n                >\n                  訂購商品\n                </div>\n                <div\n                  id=\"order-items\"\n                  class=\"accordion-collapse collapse\"\n                  aria-labelledby=\"panelsStayOpen-headingOne\"\n                >\n                  <div\n                    class=\"accordion-body lh-lg border-top border-1 border-primary d-flex justify-content-between\"\n                    v-for=\"item in order.products\"\n                    :key=\"item.id\"\n                  >\n                    <div>\n                      <h1 class=\"text-start fw-bold fs-6\">\n                        {{ item.product.title }}\n                      </h1>\n                      <div class=\"d-flex align-items-end\">\n                        <p class=\"fw-bold\">\n                          NT$\n                          {{ $filters.currency(item.product.price * item.qty) }}\n                        </p>\n                        <del class=\"fw-bold fs-7 text-muted ms-2\">\n                          NT$\n                          {{\n                            $filters.currency(\n                              item.product.origin_price * item.qty\n                            )\n                          }}\n                        </del>\n                      </div>\n                    </div>\n                    <div>x {{ item.qty }} {{ item.product.unit }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"order-form my-4\">\n              <ul>\n                <li class=\"fw-bold py-1\">訂單編號：{{ order.id }}</li>\n                <li class=\"fw-bold py-1\">姓名：{{ user.name }}</li>\n                <li class=\"fw-bold py-1\">聯絡電話：{{ user.tel }}\"></li>\n                <li class=\"fw-bold py-1\">Email：{{ user.email }}></li>\n                <li class=\"fw-bold py-1\">寄送地址：{{ user.address }}</li>\n                <li class=\"fw-bold py-1\">備註：{{ order.message }}</li>\n                <li class=\"fw-bold py-1\">\n                  總金額：<span class=\"text-primary\"\n                    >NTD$ {{ order.total }} 元</span\n                  >\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"btn d-flex justify-content-around\">\n            <button\n              type=\"submit\"\n              class=\"btn btn-primary text-white w-100 fs-5\"\n              @click=\"getPay(order.id)\"\n            >\n              確認付款\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: [\"emitter\"],\n  data() {\n    return {\n      order: {},\n      user: {},\n      orderDate: \"\",\n      orderID: \"\",\n    };\n  },\n  methods: {\n    getOrder(id) {\n      // console.log(this.$route);\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/order/${id}`\n        )\n        .then((res) => {\n          this.order = res.data.order;\n          this.user = res.data.order.user;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, \"錯誤訊息\");\n        });\n    },\n    getPay(id) {\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/pay/${id}`\n        )\n        .then(() => {\n          this.emitter.emit(\"get-cart\");\n          this.$router.push(`/orderfinished`);\n        })\n        .catch(() => {\n          this.emitter.emit(\"push-message\", {\n            style: \"danger\",\n            title: \"付款失敗，請重新付款！\",\n          });\n        });\n    },\n  },\n  mounted() {\n    this.getOrder(this.$route.params.id);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  margin-top: 50px;\n  margin-bottom: 100px;\n  .shopping_bag {\n    font-size: 3rem;\n  }\n}\n</style>\n","import { render } from \"./CheckOut.vue?vue&type=template&id=c6b3e10e&scoped=true\"\nimport script from \"./CheckOut.vue?vue&type=script&lang=js\"\nexport * from \"./CheckOut.vue?vue&type=script&lang=js\"\n\nimport \"./CheckOut.vue?vue&type=style&index=0&id=c6b3e10e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/ashleyshang/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c6b3e10e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","_createElementBlock","_hoisted_5","_hoisted_9","_Fragment","_renderList","$data","products","item","key","_toDisplayString","product","title","_ctx","currency","price","qty","origin_price","unit","name","tel","email","address","message","total","type","onClick","$options","inject","data","order","user","orderDate","orderID","methods","getOrder","this","$http","get","then","res","catch","err","$httpMessageState","response","getPay","post","emitter","emit","$router","push","style","mounted","$route","params","__exports__","render"],"sourceRoot":""}